sudo: required

language: generic

git:
  depth: false

dist:
  xenial

cache:
  directories:
    - $HOME/.m2

services:
  - docker

before_install:
  - docker pull moussavdb/build-java

env:
  global:
  - secure: sEMQEj/jvXA/BUOhkzIqaZvbzkyNmmU+ynGbVH94PmKzXtJA+1lXoeachpMUJ4c9N0PrZ8U6Jr1ZgShSmJMQYAaswRFNb+rt23CMVpVsbLe/+rEVVsQ3WUVcJMl2mYbjqAoVedYTeRbg+1WbqI+a59BA5Z6ss/IdBpGNLlfqmHPYjUZbjMEV0Vxr3G4sX8nu50MCRPviIckw/D7MmW+U/bIMKZnhvHqf+jEK/u59Gb9RpnFYq/xkIrWGaOvLz5iIM2MmlEBBrdW6WA1ydpBHsS0Ba6UEL8y4OyOoMcKFrRJ32mW8B0XuyBRhegBRlginWsZs+Eo1zQ1hOEgMRKKEnv6+XYc5uK1HwNkT9D/P7iqpBm5Exr+8L6xNyVwLH7OWeINI9b/pJtCss5HuOEseRrLSEuzsS3nk6nW4qYEdNv8WLrWhrlUSt+S8FsfQqSP/uqq+ccp9ZAlWMXaftKtoMxSN/IeE6bJ4Q+xFM0spGdsIPU5cQq0F94X+IM7FtBIF7B9eNa7v30QhsCxN3u/wCjdFded6OORtseJ2syWhyAHmdk/dsm1I/xd0dlmN+k70w5Y7TLHdEdCZ+69zW5BTcwB3CfrNyOYwJRcB8F/ZtWurNJLVaKHvItTxyRds3zD2Vvw1juBtuVIpTqI8Wc8BoZF2Vc2U2uogONlPMKSQCQ0=
  - secure: e9J/evHj0MKe1hK4hqsKb8892Se/TwmL6YXWwbEQ3bzTOiHHmpkY/Mx1HV8dYKAa4FWnhlxpRUjexFBhNj7CtTFJh8lTIyTIUgJU+zRoz7LYyqub3Uto/Aw1ZDUBza+zcdOnQ3YfbOfyhaxVs+KzEpiGJ3SWiZiWd29aLo6SY9qmCid9ztcBNxRZXYIHzQ7q0SOfGm40w+BBWGf9pNhWbZVpEpvr5BI2pKzNMn8GChRM3Ouy+rsBCcmCKDKSlMqY3JpQTOPyClzKXM/6T0eSZpJ8GKMeK55sa5SMNSYBAKgw87XfCr4o7TgC1UCjLViJbs/IqxN/ti38EEkyMrkddIcxQW9JXU2sD6yEChFrwbcHmwN56R40yWGTuE/1ulUOLVZM4neV4CuNMq0Xy9JcLj3w6ee6IlmXuQRdYu4JNAEG9OBuYtZs9vlokIiM2lZRLtiitqQ1uZc94+XXFQIBmYsYM6IsB/QWZH0Nr29mNFllY2RFBo5YB9q2XSNjTz+3z3qx5xQNS5M82BK3AwPS7PoOcXiSmWycSv1WZGX+yjXRGbq1asmHITtUahFVZ/aFzw2yddn8pflJ1s5wV6WTZq28qW+yHaDPKbXXKKKTiZ3FlxYF2dvrU+gOjIIO1dWTRZ2Y+TkONY8GGKmTst9AOu4r1UA0r6OmotMYeNodiMQ=
  - secure: rw+4ZiZdEJadYeK3/WP4KsWDt/8ZfzslRXB1/yzhNAMXPx9a5/obHPrV0B3oyYe5SAabvLiwLx+ayV/eKU2rmTWkE+fhSrIKGEangctooStZSlNN9C/jVL+JO5StAO6vWlVzPF57AJKPIn+sFNYo79UI1H84dU0IMrMob3+aCddcYx/652lskLI63eCSiQYrJUeow+aXsUcR3zb/5xLs8l8Fw7O1dRFPak0QgbXtdEMS6KKvk8c3q66XN3GjQ3lPS25NpbIeAsnERGgpN2/1xfzNHCzf5+r96Lgg4uEQovhNFueOxxxLpZD7MyMZdu/06mBN7EbX18XCLfiWWSivNa6p5zoNlg61JjYvsf2WkFwpSdwWVxwzWcoO7ih0u3A0qVocut/1Kqf9k2s5shLq5bWMoYxjLousQla/+eQ8TZN4qGg/LgdqR2ex3mBjud/IMG6NCh2JkUWcQpCYhvPFWJpypEgqRilRVVIwBpOczLQ3hQejPGG0+E/mnczHN728gb+KzMtptqMqcMXFP0PAA+dx2Fe4hLuOL0dAfKp4uYzxeBASBO1U8Pe5suFdxCTWb01boqTGAi390oBJpeQ4ACXIfNb0ofL3ve++YoGQCXyC51X7DI0dHwT+MZ6fusVih8pWhg8G6ZONavQeVnt1yycM48bqvJSaRLlHUT8dOtw=
  - secure: lhrClKpFtDuOlK3iegRkvRstcT5FEwHYex5SoCZFbMv7HWteWJ0LEInUN//o8hVgBe/2Oi9XEfV0Ui1m0oSYq9N/S9mTTapXAT+qDc5U9y2VRy0MzZ7oKENbRiFgz2rkZdivW1IWb4kjJXt7fej4TdhMq/WyiFwPFcSvZYMZT9XNnzzcRH11JBcg09nD7rGomnMrKi4n5pHS+dVWHx9UDQw92xEQVy1Se1MNu3FUyYNEY8z6s6OgP0Tc3X46L6vjR2MTTxRAZZ78ZvDLGT0Szs4gFtmOBRB4R/HVSgqP7OZEhSLN6kwEz/p69VYmF7hRfux8VxTUsSF9H8X7jd4MO8wxZxlTiTfXOSLkkCQwAxfRGQ1OI219HfpYvJHA+2eqc2fhqeYt2BQlxJ78q5ds6Cnur7s+9ZFIy59X4GkradBVgH4FtMdpk+80F7mX1yBp6Z6rIVf4DBGQ2w50kn+oPDv+0EOKMW77qocom+Pqjf0+CtF7E+0EJma0dCTYJlvjqYFNh5SJo1pheEfaT8pcY3OT1mRJoHCgepI0kRBBVGiGAYSOzkz6RtBx1GD98JMFjPv9u0s4bhZl5PnpCPt5umjoFi1GaUN6Uk+W6kQL0LJTxcrBMVTjiSArF2bq+6yPQEt0252rRATEgdZXbs5HRsle1N6Qj4t6Z05mqhWX6+w=
  - secure: AwX3+93cBxhBfPpmw42npSo2NaNlgWTp/5r7VHys5pGpdKcqp3+j5cw+lhIxVUyayvTAIQnv6AXtMgCmd64CdLGkI/FxYaOjBjND4bfA8/Ja8SxZzh9+/hgWrbTzhpD6kWgzfRPHuhcgT2/5qcHXT9Uh2NIgqK2IKtWsh7U1OejbwdYM8JA59Zj2AkbyDAfO3QdsODqUrGYdQwFxNbg1Cck2NICFNbjtP5vkEpB70kIugOXHztxK1vr4LTBaIXrehpqLGqxGwyERwzAkstm/ZoRHGi3w7KOU+8Z7o/BJhFVTshAqossqZw0dQ/bFwO+JBYVMkx+OCyyHQpxv0FalOAl1cCooIAlOj0NNAQRL8Be6rsjjfKGN2pVXfAqxhBtWKd4sAsPbvwIwcqdCyyT7lQFkFgs+GOf69SrfP0GjcqH5MeWBOMPJ77vckqubVNJULkAB2l1T3OT+UnVN47Q+7D2deUM8DC9odW4sVP81dSlYuO4ui3VvIOUddpnn6b6Sg54JuiXTFgt85vtQHLdAxvI4439STePI76Ye2IXUrBTIu9MG+DAehjlycNkK+4EGUSG6ScOP2DKSsI63t3Iq5hD1fE1d8UbLyiOmshbZRnQrjxejUdhLy+2TjLsGsJVfPTqen6oTqDIpi6FPyS06nwk/wN4GR4ZtvDP5Z9CQ1SY=
  - secure: wgfcHGBZDRsUGm7REzjfBbCXYJHheCX+Lzog32WYSrotzi3qqSu6nVeMeBcA5bV1Pjb92W+/p7mg3Wy5MZnQlSNDR3S0B92Mj5Qq4RkuFOLF8EuoWREqlEpUX+Vlly279DMABZ4h2hM4r38EcBgjgrjRc40tAhEBLLO+1zgAModgMf771h1yIBjsHxowPMa1VvbYSh86YCYQnJ1KitA/WucoOX2TurK+ySN7OhfsCtxkujezyf9l2876xAih+fOChkg7l5RllzZ+XAz4qXvzCHz+dbga9XoQec5dC+M4phItwNkXvRf2o/GFdFYP7vhxPeHfMJgYdt12QiYByJpN29c1QjoCHeALA7+4xNwEbj+Rh0FJjAvBqisoak8kR5R3rq8dwXwg37LdKr7NXfOvq3Yc0NgvZe/wN2Rlyr0TECsWZ8W4oKR9QOmS6I8oiWiTDyHZ4bcaojnld8ilc2kTb7bwE/J5XIopl69zF0ixgzTuSiY8sKWgpPz2IHFPUQEuZIKAXX1jYmKBTklIPB1X+i8JPNNWaS76mKLyYXHxbOV56Edeft7mcMl39LEthGKv/YDH+w4kB6KMfoGNO251WJVCPibMX8iVivqZK5mNrtDFTFP6H4EMUUtVng+oT/Gd4wf9o+W4aSYH3XEtjS6nGjrTO5vL3WMatkLlC7TLF4g=
  - secure: cid2lSLdruPt3LKepxJMlY0OIwHXThPcHcxS4IR3YOYzJWICJzYKwLWMRoI2+vpzx9+Ps64Q0BfCN7OATJbfJRJIdAXxBarRoBFdat+3KU+M6wh2ks+ZuLSjLGxWTa6r+OvL+u0w7ZQM8kJz4eJmUL0FMrSlDrLmuLouzyYhDCuR9ReX/vpRdirykzC9Ch1TN+3+avqs54M2AfEsneO+BDdRN21YfxmzkvXC8MOJhhTmQZtXvJenc/Wpvnc5JCq3gfGHSPJqr6J60TAK4Z15qYNDjyB9PjM2cz+gVxPfn98mcQBKkDt9RVW7AnLoMU6lgd2jOQsMtSIhQ76JjMmOZE+jVM2lNxzZITzzDJYdcrKQjvqjch8G1qS3i74nWXaT0JFpepPVbZT7UGsLdT5nsXgJMk5DOHqQPmV1o1A/hvvxQj2yYOAjHDqbAXYOpw7+7ZPU5qDpl7rVKWfudHNe9H51xdPef0uRvWKWxaiFPMVyNZo9utiBSzW6ocwMsdLARRb9aJiydnRK1jELeiFv1knzAt7Yt43OvOJseww2+1agJCABtolIIbCiWMSA3Pqn5LFeXHiewOTRLCxA/a5yJPd8aSG5NNROI4Ci822pGIwPNTHAbB8S08DTPiap/kTnQxwC93MusaWEAnrYv4ir5j3AVusY0uYycPSLZi1U69k=
  - secure: fzVCQTXYxdIthgzUwof5T0tG9JZ0zIMzTGnImf4Z9wzhftKv8qWcKXWJkkjaDaSkJuRFak22uWpsl/niMgDZU82CZl8uD3Isu1fZxZh+pjFWxytZgQoyReqX7xUP5HGsroGQhI9ayZ1vfEFIR+rnBDY5z1r7VHGFLW3Fkl9Bd2ikbePh99ePWWSrGDoU+G1GVjYL5VqaxLfe80g+TV4htRIivCMUpxJ+642w/8n2Kqo2wT/dZCmD7Eox83LA0h7VTDRlKwP6JZKDlHR8LInlIWJuhq8PHs+ADrlhzBXYmgEhHPqjnQZlQJ/Z2ughfHfDgvLaNzQihltkC7l8psCjC4VwtS21aQ9/kgH+vRPZvPmJ/tHH3lgUhktjkSACqkd3wzgzNRZlWpzUIN9ocrfJZ5XTX4gPIQG9floIcVBO8ke6tIiPKwnZok3t0IcIJym7ovhJwmAOaQSSfgO5hB8ZKCRlgplS+yTYg3Pbbgij/XiYqgSB/WdHjsuv9cvAL6um3XaF9Z86Lumj4jmT6kCktDE6kZHNKzEx7YQ2GPYoJTwb1WJqpZdaUM87w8CbTGZAf28izJRAtKEuhg+jW51wNK54fg8QcBnutducJ5nOydMbRkVF3sa/21+ih7+Xl1L6H6OSCwWocPGn8P5RWAF6nW48k4zthNXhS5HxhhgXL0o=
  - secure: ZJ9FfZz83+TpXAMHDhS7Apdtui4SkRKAQ4HEJ7B5xKwXElLOfvErzb9+P08spJDYgMB+vkIoDmuUZkOosIKB08A3or3bFPcZsflvtI/QOM+TXYpGPve2gxox6iZfrfveMjCfNsXp/ORJF/15Mf6URSahxLMFY0+esPQtt57N1E0IabjIHyWfvy/Czk1DFxhiz3LcQUAiD+/Nl6Y1cKc+iPRu7N3CJeC9/v6TsRszc1pVagYfr7LAFMPqcVvyFC9RkgrH4lmzVko7/ncLvjgTIBooq4kimuSM/84TxeGBUAVnLqfn6kM69X41bHVf9aIlLXZYH5XUiLvRGzAvozv5rFVEap1Tozey38wKQiFdgr8Ne9kbPJN5aEud6gNJJ3ONHSov3IBnCMHFlEZkZsn6741xhRpMzQaAkN3rOUOtUAv3UgA/O5VFRV5VaPqBwShJbJJMOyO/wabc8NHA8pGqXLWeeLhhT+ShleI0AzVgMRSy97W0hIb89moGzvVqgFBobdbe5D2ShtLNKFRrgmyVojrhMnrfATIACc1+q3VHPA54dQKJ1YTOAydBDZexSaSLPjHXFbY6LA3rTXsS3izktAIT1YPhinxF7o0UgAVU8qe6Kqt9YmRUSuQbtt/Sf734S+xYq2z+2b8awczA5g2OZaQqGfOoPPvteeUc7Oj5sSY=

script:
  - chmod 777 deploy-maven-central.sh
  - docker run -v $PWD:/src -v $HOME/.m2:/root/.m2 -e REPO_USER=$REPO_USER -e REPO_PASSWORD=$REPO_PASSWORD -e REPO_USER=$REPO_USER -e REPO_PASSWORD=$REPO_PASSWORD -e BRANCH=$TRAVIS_BRANCH -e OPENSSL_PWD=$OPENSSL_PWD -e GPG_PWD=$GPG_PWD -e GPG_KEY=$GPG_KEY -e OSSRH_USER_TOKEN=$OSSRH_USER_TOKEN -e OSSRH_PWD_TOKEN=$OSSRH_PWD_TOKEN -e SONAR=$SONAR -e SONAR_ORGANIZATION=$SONAR_ORGANIZATION moussavdb/build-java ./deploy-maven-central.sh
